// file: proto/gcommon/v1/database/database_service.proto
// version: 1.0.0
// guid: 29fba4b4-7bdc-4792-b145-968271984ce0
edition = "2023";

package gcommon.v1.database;

import "gcommon/v1/database/execute_batch_request.proto";
import "gcommon/v1/database/execute_batch_response.proto";
import "gcommon/v1/database/execute_request.proto";
import "gcommon/v1/database/execute_response.proto";
import "gcommon/v1/database/get_connection_info_request.proto";
import "gcommon/v1/database/get_connection_info_response.proto";
import "gcommon/v1/database/health_check_request.proto";
import "gcommon/v1/database/health_check_response.proto";
import "gcommon/v1/database/query_request.proto";
import "gcommon/v1/database/query_response.proto";
import "gcommon/v1/database/query_row_request.proto";
import "gcommon/v1/database/query_row_response.proto";
import "google/protobuf/go_features.proto";
import "buf/validate/validate.proto";


option features.(pb.go).api_level = API_OPAQUE;
option go_package = "github.com/jdfalk/gcommon/sdks/go/v1/database";

/**
 * DatabaseService provides comprehensive database operations including
 * queries, transactions, batch operations, and health monitoring.
 */
service DatabaseService {
  // Execute a read-only query and return results
  rpc Query(QueryRequest) returns (QueryResponse);

  // Execute a query expected to return at most one row
  rpc QueryRow(QueryRowRequest) returns (QueryRowResponse);

  // Execute a write operation (INSERT, UPDATE, DELETE)
  rpc Execute(ExecuteRequest) returns (ExecuteResponse);

  // Execute multiple operations in a single batch
  rpc ExecuteBatch(ExecuteBatchRequest) returns (ExecuteBatchResponse);

  // Get information about database connection pool
  rpc GetConnectionInfo(GetConnectionInfoRequest) returns (GetConnectionInfoResponse);

  // Check database connectivity and health
  rpc HealthCheck(DatabaseHealthCheckRequest) returns (DatabaseHealthCheckResponse);
}
