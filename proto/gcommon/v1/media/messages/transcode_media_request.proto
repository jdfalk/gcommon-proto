// file: proto/gcommon/v1/media/messages/transcode_media_request.proto
// version: 1.0.0
// guid: 89abcde-f012-3456-e3f4-a5b6c7d8e9f0

edition = "2023";

package gcommon.v1.media;

import "gcommon/v1/media/enums/media_type.proto";
import "google/protobuf/go_features.proto";

option features.(pb.go).api_level = API_OPAQUE;
option go_package = "github.com/jdfalk/gcommon/sdks/go/v1/media";

// Request to transcode media to different format.
message TranscodeMediaRequest {
  string media_file_id = 1;
  string output_format = 2; // Target format (mp4, mkv, avi, etc.)
  string output_codec = 3; // Target codec (h264, h265, av1, etc.)
  TranscodeOptions options = 4;
}

// Transcoding options.
message TranscodeOptions {
  string resolution = 1; // Target resolution (1920x1080, 1280x720, etc.)
  int32 bitrate = 2; // Target bitrate in kbps
  int32 framerate = 3; // Target framerate
  string audio_codec = 4; // Audio codec (aac, mp3, ac3, etc.)
  int32 audio_bitrate = 5; // Audio bitrate in kbps
  bool preserve_subtitles = 6; // Keep subtitle tracks
  bool preserve_chapters = 7; // Keep chapter markers
}
