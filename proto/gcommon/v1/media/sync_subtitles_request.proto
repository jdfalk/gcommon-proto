// file: proto/gcommon/v1/media/messages/sync_subtitles_request.proto
// version: 1.0.0
// guid: 6789abc-def0-1234-a7b8-c9d0e1f2a3b4

edition = "2023";

package gcommon.v1.media;

import "google/protobuf/duration.proto";
import "google/protobuf/go_features.proto";

option features.(pb.go).api_level = API_OPAQUE;
option go_package = "github.com/jdfalk/gcommon/sdks/go/v1/media";

// Request to synchronize subtitles with media.
message SyncSubtitlesRequest {
  string subtitle_file_id = 1;
  string media_file_id = 2;
  SyncOptions options = 3;
}

// Options for subtitle synchronization.
message SyncOptions {
  google.protobuf.Duration offset = 1; // Global time offset to apply
  double speed_factor = 2; // Speed adjustment factor (1.0 = no change)
  bool auto_detect_sync = 3; // Automatically detect sync points
  repeated SyncPoint sync_points = 4; // Manual sync points
}

// Manual synchronization point.
message SyncPoint {
  google.protobuf.Duration subtitle_time = 1; // Time in subtitle file
  google.protobuf.Duration media_time = 2; // Corresponding time in media
}
