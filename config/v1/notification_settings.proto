// file: proto/gcommon/v1/config/v1/notification_settings.proto
// version: 1.0.0
// guid: 4694674c-55fc-4ee7-8874-efe3ad5f1250

edition = "2023";

package config.v1;

import "common/v1/notification_trigger.proto";
import "config/v1/batching_settings.proto";
import "config/v1/notification_channel.proto";
import "google/protobuf/go_features.proto";
import "buf/validate/validate.proto";


option features.(pb.go).api_level = API_OPAQUE;
option go_package = "github.com/jdfalk/gcommon/config/";

message ConfigNotificationSettings {
  // Whether notifications are enabled
  bool enabled = 1;

  // Notification channels
  repeated ConfigNotificationChannel channels = 2 [(buf.validate.field).repeated.min_items = 1];

  // Notification triggers
  repeated common.v1.NotificationTrigger triggers = 3 [(buf.validate.field).repeated.min_items = 1];

  // Notification template
  string template = 4 [(buf.validate.field).string.min_len = 1];

  // Notification recipients
  repeated string recipients = 5 [(buf.validate.field).repeated.min_items = 1];

  // Notification delay in minutes
  int32 delay_minutes = 6 [(buf.validate.field).int32.gte = 0];

  // Notification batching settings
  BatchingSettings batching = 7;
}
