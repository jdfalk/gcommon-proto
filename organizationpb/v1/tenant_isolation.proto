// file: proto/gcommon/v1/organization/tenant_isolation.proto
// version: 1.0.0
// guid: 182f08bf-4180-421a-935c-aa065bea181a

edition = "2023";

package organization.v1;

import "common/v1/isolation_level.proto";
import "common/v1/key_value.proto";
import "common/v1/organization_access_control.proto";
import "organization/v1/audit_config.proto";
import "organization/v1/compute_isolation.proto";
import "organization/v1/database_isolation.proto";
import "organization/v1/encryption_config.proto";
import "organization/v1/network_isolation.proto";
import "organization/v1/storage_isolation.proto";
import "google/protobuf/go_features.proto";
import "google/protobuf/timestamp.proto";
import "buf/validate/validate.proto";

option features.(pb.go).api_level = API_OPAQUE;
option go_package = "github.com/jdfalk/gcommon/pkg/organizationpb";

message TenantIsolation {
  // Tenant identifier
  string tenant_id = 1;

  // Isolation level for this tenant
  common.v1.OrganizationIsolationLevel level = 2;

  // Database isolation configuration
  DatabaseIsolation database = 3;

  // Network isolation configuration
  NetworkIsolation network = 4;

  // Storage isolation configuration
  StorageIsolation storage = 5;

  // Compute isolation configuration
  ComputeIsolation compute = 6;

  // Encryption configuration for tenant data
  OrganizationEncryptionConfig encryption = 7;

  // Access control configuration
  common.v1.OrganizationAccessControl access_control = 8;

  // Audit and compliance configuration
  AuditConfig audit = 9;

  // Isolation metadata and custom settings
  repeated common.v1.KeyValue metadata = 10 [lazy = true];

  // Isolation configuration creation timestamp
  google.protobuf.Timestamp created_at = 11 [lazy = true, (buf.validate.field).required = true];

  // Last update timestamp
  google.protobuf.Timestamp updated_at = 12 [lazy = true];

  // User ID who configured this isolation
  string configured_by = 13;
}
