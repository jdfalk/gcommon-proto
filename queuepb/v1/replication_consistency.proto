// file: proto/gcommon/v1/queue/replication_consistency.proto
// version: 1.0.0
// guid: 6edbf0fb-990f-446b-bec1-14f1ec84397c

edition = "2023";

package queue.v1;

import "commonpb/v1/replication_level.proto";
import "google/protobuf/go_features.proto";
import "buf/validate/validate.proto";


option features.(pb.go).api_level = API_OPAQUE;
option go_package = "github.com/jdfalk/gcommon/pkg/queuepb";

message ReplicationConsistency {
  // Minimum number of replicas that must acknowledge writes
  int32 min_write_replicas = 1 [(buf.validate.field).int32.gte = 0];

  // Minimum number of replicas that must be available for reads
  int32 min_read_replicas = 2 [(buf.validate.field).int32.gte = 0];

  // Replication factor (total number of replicas)
  int32 replication_factor = 3 [(buf.validate.field).int32.gte = 0];

  // Consistency level for replication
  common.v1.ReplicationLevel replication_level = 4;

  // Enable anti-entropy repair
  bool anti_entropy_enabled = 5;

  // Anti-entropy repair interval (seconds)
  int32 repair_interval_seconds = 6 [(buf.validate.field).int32.gte = 0];
}
