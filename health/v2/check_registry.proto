// file: proto/gcommon/v2/health/messages/check_registry.proto
// version: 1.0.0
// guid: 5d6e7f80-9ca2-7890-4567-123456789012

edition = "2023";

package health.v2;

import "health/v2/health_check.proto";
import "google/protobuf/go_features.proto";
import "google/protobuf/timestamp.proto";

option features.(pb.go).api_level = API_OPAQUE;
option go_package = "github.com/jdfalk/gcommon/health/v2";

/**
 * CheckRegistry represents a registry of all health checks in the system.
 * Maintains the authoritative list of configured health checks.
 * Follows 1-1-1 pattern: one message per file.
 */
message CheckRegistry {
  // All registered health checks indexed by check ID
  map<string, HealthCheck> checks = 1;

  // Total number of registered checks
  int32 total_checks = 2;

  // Number of enabled checks
  int32 enabled_checks = 3;

  // When this registry was last updated
  google.protobuf.Timestamp last_updated = 4;

  // Registry version for optimistic locking
  int64 version = 5;

  // Services currently being monitored
  repeated string monitored_services = 6;
}