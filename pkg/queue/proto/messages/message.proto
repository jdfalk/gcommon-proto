// filepath: pkg/queue/proto/messages/message.proto
// file: queue/proto/messages/message.proto
//
// Message definitions for queue module
//
edition = "2023";

package gcommon.v1.queue;

import "google/protobuf/go_features.proto";
import "google/protobuf/timestamp.proto";
import "pkg/queue/proto/messages/queue_message.proto";

option go_package = "../../../../pkg/queue/pb;queuepb";
option features.(pb.go).api_level = API_HYBRID;

/**
 * ReceivedMessage represents a message that has been received from a queue,
 * including the original message and metadata about its reception.
 */
message ReceivedMessage {
  // The original queue message
  QueueMessage message = 1;

  // Unique receipt handle for acknowledgment
  string receipt_handle = 2;

  // Timestamp when the message was received
  google.protobuf.Timestamp received_at = 3;

  // Number of times this message has been received (redelivery count)
  int32 receive_count = 4;

  // Approximate timestamp when the message was first sent to the queue
  google.protobuf.Timestamp approximate_first_receive_timestamp = 5;
}
