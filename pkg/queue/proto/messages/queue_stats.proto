// file: queue/proto/messages/queue_stats.proto
// version: 1.0.0
// guid: d0baf4d9-64a1-4da1-a051-9e240b67a902

edition = "2023";

package gcommon.v1.queue;

import "google/protobuf/duration.proto";
import "google/protobuf/go_features.proto";
import "google/protobuf/timestamp.proto";
import "pkg/common/proto/response_metadata.proto";
import "pkg/queue/proto/consumer_stats.proto";
import "queue/proto/message_state_counts.proto";
import "queue/proto/queue_depth_sample.proto";
import "queue/proto/queue_configuration.proto";
import "queue/proto/size_distribution.proto";
import "queue/proto/latency_metrics.proto";
import "queue/proto/throughput_metrics.proto";
import "queue/proto/age_distribution.proto";

option features.(pb.go).api_level = API_OPAQUE;
option go_package = "github.com/jdfalk/gcommon/pkg/queue/proto";

message QueueStats {
  // Queue name
  string queue_name = 1;

  // Current message count
  int64 message_count = 2;

  // Messages in different states
  MessageStateCounts state_counts = 3;

  // Throughput metrics
  ThroughputMetrics throughput = 4;

  // Latency metrics
  LatencyMetrics latency = 5;

  // Queue depth over time
  repeated QueueDepthSample depth_samples = 6;

  // Message size distribution
  SizeDistribution size_distribution = 7;

  // Message age distribution
  AgeDistribution age_distribution = 8;

  // Queue configuration details
  QueueConfiguration configuration = 9;

  // Last activity timestamp
  google.protobuf.Timestamp last_activity = 10;
}
