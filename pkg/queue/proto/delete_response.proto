// file: pkg/queue/proto/delete_response.proto
// version: 1.1.0
// Response to delete operations

edition = "2023";

package gcommon.v1.queue;

import "google/protobuf/go_features.proto";
import "google/protobuf/timestamp.proto";

option features.(pb.go).api_level = API_OPAQUE;
option go_package = "github.com/jdfalk/gcommon/pkg/queue/proto";

// DeleteResponse returns the result of a delete operation
message DeleteResponse {
  // Success status of the delete operation
  bool success = 1;

  // Identifier of the deleted resource
  string deleted_resource_id = 2;

  // Type of resource that was deleted
  string resource_type = 3;

  // Timestamp when deletion completed
  google.protobuf.Timestamp deleted_at = 4;

  // Error message if deletion failed
  string error_message = 5;

  // Error code for programmatic handling
  string error_code = 6;

  // Statistics about the deletion
  DeletionStats deletion_stats = 7;

  // Backup information (if backup was created)
  BackupInfo backup_info = 8;

  // Warning messages
  repeated string warnings = 9;

  // Operation metadata
  map<string, string> metadata = 10;
}

// Statistics about what was deleted
message DeletionStats {
  // Number of messages deleted
  int64 messages_deleted = 1;

  // Amount of data deleted (bytes)
  int64 data_deleted_bytes = 2;

  // Number of subscriptions deleted
  int32 subscriptions_deleted = 3;

  // Number of partitions deleted
  int32 partitions_deleted = 4;

  // Time taken for deletion (milliseconds)
  int64 deletion_duration_ms = 5;
}

// Backup information (if backup was created)
message BackupInfo {
  // Backup identifier
  string backup_id = 1;

  // Backup location
  string backup_location = 2;

  // Backup size (bytes)
  int64 backup_size_bytes = 3;

  // Backup timestamp
  google.protobuf.Timestamp backup_created_at = 4;

  // Backup expiration time
  google.protobuf.Timestamp backup_expires_at = 5;
}
// SKELETON_FILE: Compilation temporarily disabled
// This file needs proper implementation
