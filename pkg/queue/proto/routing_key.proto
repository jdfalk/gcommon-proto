// file: pkg/queue/proto/routing_key.proto
// version: 1.0.0
// guid: d3e4f5a6-b7c8-9d0e-1f2a-3b4c5d6e7f8a

edition = "2023";

package gcommon.v1.queue;

import "google/protobuf/go_features.proto";

option features.(pb.go).api_level = API_OPAQUE;
option go_package = "github.com/jdfalk/gcommon/pkg/queue/proto;queuepb";

/**
 * Routing key for message delivery.
 * Determines how messages are routed to queues and consumers.
 */
message RoutingKey {
  // The routing key string
  string key = 1;

  // Pattern type for key matching
  RoutingPattern pattern_type = 2;

  // Whether the key is case sensitive
  bool case_sensitive = 3;

  // Priority for routing (higher numbers = higher priority)
  int32 priority = 4;

  // Additional routing attributes
  map<string, string> attributes = 5;
}

/**
 * Routing pattern types for key matching.
 */
enum RoutingPattern {
  // Exact string match
  ROUTING_PATTERN_EXACT = 0;

  // Wildcard pattern (* and ?)
  ROUTING_PATTERN_WILDCARD = 1;

  // Regular expression pattern
  ROUTING_PATTERN_REGEX = 2;

  // Topic-style pattern (dot separated, # and * wildcards)
  ROUTING_PATTERN_TOPIC = 3;

  // Prefix match
  ROUTING_PATTERN_PREFIX = 4;

  // Suffix match
  ROUTING_PATTERN_SUFFIX = 5;
}
