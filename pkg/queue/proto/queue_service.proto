// file: pkg/queue/proto/queue.proto
// version: 1.0.0
// guid: 1f2e3d4c-5b6a-7980-1e2f-3a4b5c6d7e8f

edition = "2023";

package gcommon.v1.queue;

import "pkg/queue/proto/dequeue_request.proto";
import "pkg/queue/proto/dequeue_response.proto";
import "pkg/queue/proto/enqueue_request.proto";
import "pkg/queue/proto/enqueue_response.proto";
import "pkg/queue/proto/get_queue_info_request.proto";
import "pkg/queue/proto/get_queue_info_response.proto";
import "pkg/queue/proto/get_queue_stats_request.proto";
import "pkg/queue/proto/get_queue_stats_response.proto";
import "pkg/queue/proto/peek_request.proto";
import "pkg/queue/proto/peek_response.proto";
import "pkg/queue/proto/publish_request.proto";
import "pkg/queue/proto/publish_response.proto";
import "pkg/queue/proto/subscribe_request.proto";
import "pkg/queue/proto/subscribe_response.proto";
import "queue/proto/subscribe_response.proto";
import "queue/proto/peek_request.proto";
import "queue/proto/dequeue_response.proto";
import "queue/proto/get_queue_stats_response.proto";
import "cache/proto/publish_request.proto";
import "queue/proto/get_queue_stats_request.proto";
import "cache/proto/publish_request.proto";
import "queue/proto/get_queue_info_request.proto";
import "queue/proto/dequeue_request.proto";
import "queue/proto/get_queue_info_response.proto";
import "queue/proto/publish_response.proto";
import "queue/proto/enqueue_request.proto";
import "queue/proto/peek_response.proto";
import "cache/proto/subscribe_request.proto";
import "cache/proto/subscribe_request.proto";
import "queue/proto/enqueue_response.proto";

option features.(pb.go).api_level = API_OPAQUE;
option go_package = "github.com/jdfalk/gcommon/pkg/queue/proto";

/**
 * QueueService provides core queue operations for message handling,
 * task distribution, and asynchronous processing.
 */
service QueueService {
  // Enqueue a message or task
  rpc Enqueue(EnqueueRequest) returns (EnqueueResponse);

  // Dequeue a message or task
  rpc Dequeue(DequeueRequest) returns (DequeueResponse);

  // Peek at the next message without removing it
  rpc Peek(PeekRequest) returns (PeekResponse);

  // Get information about a queue
  rpc GetQueueInfo(GetQueueInfoRequest) returns (GetQueueInfoResponse);

  // Get queue statistics
  rpc GetQueueStats(GetQueueStatsRequest) returns (GetQueueStatsResponse);

  // Subscribe to queue messages (streaming)
  rpc Subscribe(SubscribeRequest) returns (stream SubscribeResponse);

  // Publish message to queue topic
  rpc Publish(PublishRequest) returns (PublishResponse);
}
