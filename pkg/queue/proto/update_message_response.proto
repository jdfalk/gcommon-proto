// file: queue/proto/responses/update_message_response.proto
// version: 1.0.0
// guid: f8af2c52-28d1-49c0-9813-a87e5f5a411d

edition = "2023";

package gcommon.v1.queue;

import "google/protobuf/go_features.proto";
import "google/protobuf/timestamp.proto";
import "pkg/queue/proto/failed_field_update.proto";
import "pkg/queue/proto/updated_properties.proto";

option features.(pb.go).api_level = API_OPAQUE;
option go_package = "github.com/jdfalk/gcommon/pkg/queue/proto";

message UpdateMessageResponse {
  // Success status of the update operation
  bool success = 1;

  // Updated message identifier
  string message_id = 2;

  // New message version/etag after update
  string new_version = 3;

  // Timestamp when update was applied
  google.protobuf.Timestamp updated_at = 4;

  // Fields that were successfully updated
  repeated string updated_fields = 5;

  // Fields that failed to update
  repeated FailedFieldUpdate failed_fields = 6;

  // Error message if update failed
  string error_message = 7;

  // Error code for programmatic handling
  string error_code = 8;

  // Warning messages for partial updates
  repeated string warnings = 9;

  // Updated message properties summary
  UpdatedProperties updated_properties = 10;

  // Operation metadata
  map<string, string> metadata = 11;
}
