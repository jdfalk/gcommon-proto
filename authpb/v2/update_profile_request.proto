edition = "2023";

package auth.v2;

import "google/protobuf/go_features.proto";

option features.(pb.go).api_level = API_OPAQUE;
option go_package = "github.com/jdfalk/gcommon/pkg/authpb";

// Request to update user profile information
message UpdateProfileRequest {
  // User ID to update (if not provided, update current user)
  string user_id = 1;

  // Profile data to update
  ProfileData profile_data = 2;

  // Whether to partially update (merge) or replace the entire profile
  bool partial_update = 3;

  // Whether to send notification of profile changes
  bool send_notification = 4;

  // Admin bypass flag for admin operations
  bool admin_bypass = 5;
}

// Profile data that can be updated
message ProfileData {
  // Updated email address
  string email = 1;
  // Updated display name
  string display_name = 2;
  // Updated first name
  string first_name = 3;
  // Updated last name
  string last_name = 4;
  // Updated avatar URL
  string avatar_url = 5;

  // User preferences to update
  map<string, string> preferences = 6;

  // Whether to clear existing preferences before setting new ones
  bool clear_preferences = 7;
}
// version: 1.0.0
// guid: w4x5y6z7-a8b9-0123-4567-890123xyzabc

edition = "2023";

package auth.v2;

import "google/protobuf/go_features.proto";

option features.(pb.go).api_level = API_OPAQUE;
option go_package = "github.com/jdfalk/gcommon/pkg/authpb";

// UpdateProfileRequest represents a request to update user profile
message UpdateProfileRequest {
    // User ID to update (if not provided, update current user)
  string user_id = 1;

  // Fields to update (only specified fields will be updated)
  ProfileUpdateFields fields = 2;

  // Update mask to specify which fields to update
  repeated string update_mask = 3;
}

// Profile fields that can be updated
message ProfileUpdateFields {
  message ProfileData {
  // Updated email address
  string email = 1;
  // Updated display name
  string display_name = 2;
  // Updated first name
  string first_name = 3;
  // Updated last name
  string last_name = 4;
  // Updated avatar URL
  string avatar_url = 5;

  // User preferences to update
  map<string, string> preferences = 6;

  // Whether to clear existing preferences before setting new ones
  bool clear_preferences = 7;
}
